var YouVersionPlatform=function(t){"use strict";function e(t,e,n={}){let o=`${encodeURIComponent(t)}=${encodeURIComponent(e)}`;n.expires&&(o+=`; expires=${n.expires.toUTCString()}`),n.maxAge&&(o+=`; max-age=${n.maxAge}`),n.path&&(o+=`; path=${n.path}`),n.domain&&(o+=`; domain=${n.domain}`),n.secure&&(o+="; secure"),n.sameSite&&(o+=`; samesite=${n.sameSite}`),document.cookie=o}function n(t){const e=encodeURIComponent(t)+"=",n=document.cookie.split(";");for(let t of n)if(t=t.trim(),0===t.indexOf(e))return decodeURIComponent(t.substring(e.length));return null}function o(t,n={}){e(t,"",{...n,expires:new Date(0)})}function r(){const t="yvp-install-id";if("undefined"==typeof window||"undefined"==typeof document)return"unavailable";let o=n(t);if(!o){o=`yvp-${"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}`;const n=new Date;n.setFullYear(n.getFullYear()+1),e(t,o,{expires:n,path:"/",sameSite:"Lax",secure:"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname&&"https:"===location.protocol})}return o}class a{static getAppId(){const t=document.body?.dataset.youversionPlatformAppId;if(!t)throw new Error("The YouVersion Platform App ID is required.");return t}static getStandardHeaders(){return{"X-App-ID":this.getAppId(),"x-yvp-installation-id":r()}}static async fetch(t,e={}){const n={...this.getStandardHeaders(),...e.headers};return fetch(t,{...e,headers:n})}}class s extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.debouncedLoadContent=this.debounce(()=>this.loadContent(),0)}static get observedAttributes(){return["usfm","version"]}connectedCallback(){this.debouncedLoadContent()}attributeChangedCallback(t,e,n){n&&this.debouncedLoadContent()}async loadContent(){const t=encodeURIComponent(this.getAttribute("usfm")),e=this.getAttribute("version");var n="";try{if(t&&e){const o=`https://api-dev.youversion.com/bible/passage?format=json&version=${e}&usfm=${t}`,r=await a.fetch(o);if(r.ok){const t=await r.json(),e=`<style>${t.css}</style>`,o=`<header>\n            <span class="ref" aria-label="Bible reference">${t.human}</span>\n            <span class="abbr" aria-label="Bible version">${t.abbreviation}</span>\n          </header>`;n=e+o+`<div class="body">${t.verse_html}</div>`}else n='<div class="error">Unable to load verse.</div>'}else n='<div class="error">Unable to display verse: missing attributes.</div>'}catch(t){n=`<div class="error">Unable to load verse: ${t.message}</div>`}this.shadowRoot.innerHTML=`<style>\n      .bible-text { display: block; }\n      .bible-text header { display: flex; justify-content: space-between; margin-bottom: 0.5em; }\n      .bible-text .ref { font-weight: bold; }\n      .bible-text .abbr { background:#f0f0f0; border-radius:6px; padding:0.2em 0.5em; font-size:0.9em; }\n      .bible-text .error { color: red; }\n    </style> <div class="bible-text">${n}</div>`}debounce(t,e){let n;return function(...o){clearTimeout(n),n=setTimeout(()=>t.apply(this,o),e)}}}class i extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.debouncedLoadContent=this.debounce(()=>this.loadContent(),0)}connectedCallback(){this.debouncedLoadContent()}async loadContent(){const t=this.getAttribute("version");let e="";try{if(t){const n=`https://api-dev.youversion.com/votd/today?version=${t}`,o=await a.fetch(n);if(o.ok){const t=await o.json(),n=`<header>\n            <span class="ref" aria-label="Bible reference">${t.human}</span>\n            <span class="abbr" aria-label="Bible version">${t.abbreviation}</span>\n          </header>`;e=n+`<div class="body">${t.text.replace(/\n/g,"<br>")}</div>`,this.setAttribute("usfm",t.usfm)}else e='<div class="error">Unable to load verse of the day.</div>'}else e='<div class="error">Unable to display verse of the day: missing attributes.</div>'}catch(t){e=`<div class="error">Unable to load verse of the day: ${t.message}</div>`}this.shadowRoot.innerHTML=`<style>\n      .votd-text { display: block; }\n      .votd-text header { display: flex; justify-content: space-between; margin-bottom: 0.5em; }\n      .votd-text .ref { font-weight: bold; }\n      .votd-text .abbr { background:#f0f0f0; border-radius:6px; padding:0.2em 0.5em; font-size:0.9em; }\n      .votd-text .error { color: red; }\n      .votd-text .copyright { font-size: 0.8em; color: #666; margin-top: 0.5em; }\n    </style> <div class="votd-text">${e}</div>`}debounce(t,e){let n;return function(...o){clearTimeout(n),n=setTimeout(()=>t.apply(this,o),e)}}}class c extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render(),this.addEventListener("click",this.handleSignIn)}get mode(){return this.getAttribute("mode")||"full"}get shape(){return this.getAttribute("shape")||"capsule"}get isStroked(){return this.hasAttribute("stroked")}get colorScheme(){const t=this.getAttribute("theme");return t||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}get customText(){return this.getAttribute("text")}getYouVersionLogo(){return'<img src="data:image/png;base64,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" alt="YouVersion" class="logo" />'}getColors(){const t="dark"===this.colorScheme;return{background:t?"#000000":"#ffffff",text:t?"#ffffff":"#000000",stroke:t?"rgb(71, 69, 69)":"rgb(130, 128, 128)"}}getButtonContent(){const t=this.getYouVersionLogo(),e=this.customText;if(e&&"iconOnly"!==this.mode)return`${t}<span class="text">${e}</span>`;switch(this.mode){case"iconOnly":return`${t}`;case"compact":return`${t}<span class="text">Sign in</span>`;default:return`${t}<span class="text">Sign in with <strong>YouVersion</strong></span>`}}render(){const t=this.getColors(),e=this.isStroked?"1.5px":"0",n="capsule"===this.shape?"50px":"4px",o="iconOnly"===this.mode?"12px":"12px 20px";this.shadowRoot.innerHTML=`\n      <style>\n        :host {\n          display: inline-block;\n          cursor: pointer;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;\n        }\n        \n        button {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n          padding: ${o};\n          background-color: ${t.background};\n          color: ${t.text};\n          border: ${e} solid ${t.stroke};\n          border-radius: ${n};\n          font-family: inherit;\n          font-size: 16px;\n          font-weight: 400;\n          cursor: pointer;\n          transition: opacity 0.2s ease;\n          outline: none;\n          white-space: nowrap;\n        }\n        \n        button:hover {\n          opacity: 0.8;\n        }\n        \n        button:active {\n          opacity: 0.6;\n        }\n        \n        button:focus-visible {\n          outline: 2px solid #007AFF;\n          outline-offset: 2px;\n        }\n        \n        .logo {\n          width: 24px;\n          height: 24px;\n          flex-shrink: 0;\n          object-fit: contain;\n          border-radius: 4px;\n        }\n        \n        .text {\n          font-size: 16px;\n          line-height: 1.2;\n        }\n        \n        strong {\n          font-weight: 600;\n        }\n        \n        /* Hide text in icon-only mode */\n        :host([mode="iconOnly"]) .text {\n          display: none;\n        }\n      </style>\n      <button type="button" aria-label="Sign in with YouVersion">\n        ${this.getButtonContent()}\n      </button>\n    `}handleSignIn=()=>{const t=document.body?.dataset.youversionPlatformAppId;if(!t)return void console.error("YouVersion Platform App ID not found. Add data-youversion-platform-app-id to the body tag.");const e=this.getAttribute("callback-uri");if(window.YouVersionPlatform?.SignIn?.constructAuthUrl){const n=e?window.YouVersionPlatform.SignIn.constructAuthUrl(t,[],[],e):window.YouVersionPlatform.SignIn.constructAuthUrl(t);n&&(window.location.href=n)}};static get observedAttributes(){return["mode","shape","stroked","theme","callback-uri","text"]}attributeChangedCallback(){this.render()}}function l(t){if(!t)return null;let e=t;return e.startsWith("//")&&(e="https:"+e),e=e.replace("{width}","200").replace("{height}","200"),e}async function d(t){const e=`https://api-dev.youversion.com/auth/me?lat=${t}`,n=await a.fetch(e,{headers:{lat:t}});if(!n.ok)throw new Error("Failed to fetch user info");const o=await n.json();return{firstName:o.first_name,lastName:o.last_name,userId:o.id,avatarUrlFormat:o.avatar_url,avatarUrl:l(o.avatar_url)}}class u{static BASE_URL="https://api-dev.youversion.com";static constructAuthUrl(t,e=[],n=[],o=null){const a=new URL("/auth/login",this.BASE_URL),s=new URLSearchParams({app_id:t,language:navigator.language.split("-")[0]||"en",required_perms:e.join(","),opt_perms:n.join(",")});o&&s.set("callback_uri",o);const i=r();return i&&"unavailable"!==i&&s.set("x-yvp-installation-id",i),a.search=s.toString(),a.toString()}static initialize(){console.log("yvp-js: initialize, version 1"),customElements.get("sign-in-with-youversion-button")||customElements.define("sign-in-with-youversion-button",c),this.handleAuthCallback()}static async handleAuthCallback(){console.log("yvp-js: handleAuthCallback");const t=new URLSearchParams(window.location.search),r=t.get("status");if("success"==r){const n=t.get("token")||t.get("lat"),o={status:r,userId:t.get("yvp_user_id"),accessToken:n,grants:t.get("grants")},a=new Date;a.setFullYear(a.getFullYear()+1),e("youversion_auth",JSON.stringify(o),{expires:a,path:"/",sameSite:"Lax",secure:"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname&&"https:"===location.protocol});try{if(n){const t=await d(n),r={...o,userInfo:t};console.log("yvp-js: Setting auth cookie with user info:",t),e("youversion_auth",JSON.stringify(r),{expires:a,path:"/",sameSite:"Lax",secure:"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname&&"https:"===location.protocol}),o.userInfo=t}}catch(t){}return window.history.replaceState({},document.title,window.location.pathname),"function"==typeof window.onYouVersionAuthComplete&&window.onYouVersionAuthComplete(o),o}{const t=n("youversion_auth");if(t)try{const n=JSON.parse(t);if(!n.userInfo&&n.accessToken)try{const t=await d(n.accessToken),o=new Date;o.setFullYear(o.getFullYear()+1);const r={...n,userInfo:t};console.log("yvp-js: Had to fetch user info; Setting auth cookie with user info:",t),e("youversion_auth",JSON.stringify(r),{expires:o,path:"/",sameSite:"Lax",secure:"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname&&"https:"===location.protocol}),n.userInfo=t}catch(t){}return"function"==typeof window.onYouVersionAuthLoad&&window.onYouVersionAuthLoad(n),n}catch(t){o("youversion_auth",{path:"/"})}}return null}static signOut(){o("youversion_auth",{path:"/"}),"function"==typeof window.onYouVersionSignOut&&window.onYouVersionSignOut()}static isAuthenticated(){return!!n("youversion_auth")}static getAuthData(){const t=n("youversion_auth");return t?JSON.parse(t):null}static getUserInfo(){const t=this.getAuthData();return t&&t.userInfo?t.userInfo:null}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{u.initialize()}):u.initialize();class h{constructor(t,e,n=0,o=0,r=0,a=0){this.versionId=t,this.bookUSFM=e,this.chapterStart=n,this.verseStart=o,this.chapterEnd=r||n,this.verseEnd=a||o}get isRange(){return this.chapterStart!==this.chapterEnd||this.verseStart!==this.verseEnd}static compare(t,e){return t.bookUSFM!==e.bookUSFM?t.bookUSFM<e.bookUSFM?-1:1:t.chapterStart!==e.chapterStart?t.chapterStart-e.chapterStart:t.verseStart!==e.verseStart?t.verseStart-e.verseStart:t.chapterEnd!==e.chapterEnd?t.chapterEnd-e.chapterEnd:t.verseEnd-e.verseEnd}}class p{static get BASE_URL(){return"https://api-dev.youversion.com"}static versionURL(t){const e=new URL("/bible/version",this.BASE_URL);return e.searchParams.set("version",String(t)),e.toString()}static versionsURL(t){const e=new URL("/bible/versions",this.BASE_URL);return e.searchParams.set("language",t),e.toString()}}class g{static async metadata(t){const e=p.versionURL(t),n=await a.fetch(e);if(!n.ok){if(401===n.status)throw new Error("not permitted");throw new Error("cannot download")}const o=await n.json();return o.response?.data||o}static async versions(t){if(!t||3!==t.length)return[];const e=p.versionsURL(t),n=await a.fetch(e);if(!n.ok){if(401===n.status)throw new Error("not permitted");throw new Error("cannot download")}return(await n.json()).versions||[]}}class f{constructor(t){this.id=t,this.metadata=null}async loadMetadata(){return this.metadata=await g.metadata(this.id),this.metadata}get abbreviation(){return this.metadata?.local_abbreviation||this.metadata?.abbreviation||null}static async findByLanguage(t=null){try{return await g.versions(t)}catch(t){return console.error("findByLanguage error:",t.message),[]}}isValidUSFMBookName(t){if(!this.metadata)return null;const e=t.toUpperCase();for(const t of this.metadata.books??[])if(t.usfm===e)return e;return null}shareUrl(t){const e=t.bookUSFM;if(!e)return null;const n=`https://www.bible.com/bible/${this.id}/`;return t.isRange?`${n}${e}.${t.chapterStart}.${t.verseStart}-${t.verseEnd}.${this.abbreviation??this.id}`:`${n}${e}.${t.chapterStart}.${t.verseStart}.${this.abbreviation??this.id}`}formatWithVersion(t){const e=this.format(t),n=this.metadata?.local_abbreviation??this.metadata?.abbreviation;return n?"rtl"===this.metadata?.language?.text_direction?`${n} ${e}`:`${e} ${n}`:e}format(t){let e=this.formatWorker(t);return"rtl"===this.metadata?.language?.text_direction&&(e=[...e].reverse()),e.join("")}formatWorker(t){const e=t.bookUSFM,n=t.chapterStart,o=t.verseStart,r=t.chapterEnd,a=t.verseEnd,s=this.bookName(e)??"";let i,c,l=":";if(1===this.numberOfChaptersInBook(e)?(l=" ",i="",c=""):(i=" ",c=String(n)),0===o||o<=1&&0===a)return n===r?[s,i,c]:[s,i,c,"-",String(r)];if(n!==r){let t=0===a?999:a;return[s,i,c,l,String(0===o?1:o),"-",String(r),l,String(t)]}return 999===a?[s,i,c,l,String(o),"-"]:t.isRange?[s,i,c,l,String(o),"-",String(a)]:0!==o?[s,i,c,l,String(o)]:[s,i,c]}isContiguousWith(t,e){if(t.bookUSFM!==e.bookUSFM)return!1;if(!t.bookUSFM)return!1;let n,o;return h.compare(t,e)<0?(n=t,o=e):(n=e,o=t),!(n.chapterEnd<o.chapterStart)&&(n.chapterEnd>o.chapterStart||!(n.verseEnd+1<o.verseStart))}mergeOverlapping(t){const e=[...t].sort(h.compare);let n=1;for(;n<e.length;)this.isContiguousWith(e[n-1],e[n])?(e[n-1]=this.fromOverlappingPair(e[n-1],e[n]),e.splice(n,1)):n+=1;return e}fromOverlappingPair(t,e){if(t.bookUSFM!==e.bookUSFM||!t.bookUSFM)return t;const n=h.compare(t,e)>0?e:t,o=n===t?e:t;let r;return r=n.chapterEnd>o.chapterEnd?n:n.chapterEnd<o.chapterEnd?o:n.verseEnd>o.verseEnd?n:o,new h({versionId:n.versionId,bookUSFM:n.bookUSFM,chapterStart:n.chapterStart,verseStart:n.verseStart,chapterEnd:r.chapterEnd,verseEnd:r.verseEnd})}get copyrightLong(){return this.metadata?.copyright_long?.text??null}get copyrightShort(){return this.metadata?.copyright_short?.text??null}get bookCodes(){return this.metadata?.books?.map(t=>t.usfm).filter(Boolean)??[]}bookName(t){if(!this.metadata||!t)return null;for(const e of this.metadata.books)if(e.usfm===t)return e.human??e.human_long;return null}numberOfChaptersInBook(t){if(!this.metadata||!t)return 0;for(const e of this.metadata.books)if(e.usfm===t&&e.chapters)return e.chapters.reduce((t,e)=>t+(!0===e.canonical?1:0),0);return 0}chapterLabels(t){if(!this.metadata)return[];for(const e of this.metadata.books)if(e.usfm===t&&e.chapters)return e.chapters.map(t=>!0===t.canonical?t.human:null).filter(Boolean);return[]}}try{"unavailable"===r()&&console.warn("YouVersion Platform Install ID not available: localStorage not supported")}catch(t){console.warn("Failed to initialize YouVersion Platform Install ID:",t.message)}customElements.get("bible-text")||customElements.define("bible-text",s),customElements.get("votd-text")||customElements.define("votd-text",i),customElements.get("sign-in-with-youversion-button")||customElements.define("sign-in-with-youversion-button",c);const m=window.YouVersionPlatform||{};return m.SignIn=u,m.signOut=u.signOut.bind(u),m.BibleReference=h,m.BibleVersion=f,m.userInfo=d,m.getInstallId=r,window.YouVersionPlatform=m,t.BibleReference=h,t.BibleText=s,t.BibleVersion=f,t.SignInWithYouVersion=u,t.SignInWithYouVersionButton=c,t.VotdText=i,t.default=m,t.getInstallId=r,t.userInfo=d,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
